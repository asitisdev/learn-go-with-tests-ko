# Go 설치, 생산성을 위한 환경 설정

Go의 공식 설치 지침은 [여기](https://golang.org/doc/install)에서 확인할 수 있습니다.

## Go 환경

### Go 모듈

Go 1.11에서 [모듈](https://go.dev/wiki/Modules)이 도입되었습니다. 이 접근 방식은 Go 1.16부터 기본 빌드 모드이므로, `GOPATH` 사용은 권장되지 않습니다.

모듈은 의존성 관리, 버전 선택 및 재현 가능한 빌드와 관련된 문제를 해결하는 것을 목표로 합니다; 또한 사용자가 `GOPATH` 외부에서 Go 코드를 실행할 수 있게 합니다.

모듈 사용은 매우 간단합니다. `GOPATH` 외부의 아무 디렉토리나 프로젝트의 루트로 선택하고, `go mod init` 명령어로 새 모듈을 생성하세요.

`go.mod` 파일이 생성되며, 모듈 경로, Go 버전 및 의존성 요구 사항(성공적인 빌드에 필요한 다른 모듈들)이 포함됩니다.

`<modulepath>`가 지정되지 않으면, `go mod init`은 디렉토리 구조에서 모듈 경로를 추측하려고 시도합니다. 인자를 제공하여 재정의할 수도 있습니다.

```sh
mkdir my-project
cd my-project
go mod init <modulepath>
```

`go.mod` 파일은 다음과 같이 보일 수 있습니다:

```
module cmd

go 1.16

```

내장 문서는 사용 가능한 모든 `go mod` 명령어의 개요를 제공합니다.

```sh
go help mod
go help mod init
```

## Go 린팅

기본 린터보다 향상된 것을 [GolangCI-Lint](https://golangci-lint.run)를 사용하여 구성할 수 있습니다.

다음과 같이 설치할 수 있습니다:

```sh
brew install golangci-lint
```

## 리팩토링과 도구

이 책의 큰 강조점 중 하나는 리팩토링의 중요성입니다.

도구는 더 큰 리팩토링을 자신 있게 수행하는 데 도움을 줄 수 있습니다.

에디터에서 간단한 키 조합으로 다음을 수행할 수 있을 만큼 충분히 익숙해져야 합니다:

- **변수 추출/인라인**. 매직 값을 가져와 이름을 부여하면 코드를 빠르게 단순화할 수 있습니다.
- **메서드/함수 추출**. 코드 섹션을 가져와 함수/메서드로 추출할 수 있는 것이 중요합니다.
- **이름 변경**. 파일 전체에서 심볼의 이름을 자신 있게 변경할 수 있어야 합니다.
- **go fmt**. Go에는 `go fmt`라는 의견이 있는 포맷터가 있습니다. 에디터는 파일을 저장할 때마다 이것을 실행해야 합니다.
- **테스트 실행**. 위의 작업을 수행한 다음 빠르게 테스트를 다시 실행하여 리팩토링이 아무것도 깨뜨리지 않았는지 확인할 수 있어야 합니다.

또한, 코드 작업을 돕기 위해 다음을 수행할 수 있어야 합니다:

- **함수 시그니처 보기**. Go에서 함수를 어떻게 호출해야 할지 확신이 서지 않아서는 안 됩니다. IDE는 문서, 매개변수 및 반환값 측면에서 함수를 설명해야 합니다.
- **함수 정의 보기**. 함수가 무엇을 하는지 여전히 불분명하다면, 소스 코드로 이동하여 직접 파악할 수 있어야 합니다.
- **심볼 사용처 찾기**. 함수의 컨텍스트를 이해하면 리팩토링 시 결정을 내리는 데 도움이 됩니다.

도구를 마스터하면 코드에 집중하고 컨텍스트 전환을 줄이는 데 도움이 됩니다.

## 마무리

이 시점에서 Go가 설치되어 있고, 에디터가 준비되어 있으며, 기본적인 도구가 갖춰져 있어야 합니다. Go에는 매우 큰 서드파티 제품 생태계가 있습니다. 여기서 몇 가지 유용한 구성 요소를 확인했습니다. 더 완전한 목록은 [https://awesome-go.com](https://awesome-go.com)을 참조하세요.
